<?xml version="1.0" encoding="UTF-8"?>
<application id="beam_atcorr">
  <jobTemplates>
  
    <!-- BEAM Atmos Corr operator job template  -->
    <jobTemplate id="SmacOp">
      <streamingExecutable>/application/smacop/run.sh</streamingExecutable>
      <defaultParameters>						
        <parameter id="startdate" title="Start date" abstract="Start date of the TOI. Used as queryable for the MERIS Level 1 catalogue" scope="runtime" type="opensearch" target="time:start">2012-03-24</parameter>
        <parameter id="enddate" title="End date" abstract="End date of the TOI. Used as queryable for the MERIS Level 1 catalogue" scope="runtime" type="opensearch" target="time:end">2012-03-25</parameter>
      </defaultParameters>
      <defaultJobconf>
        <property id="mapred.task.timeout">9900000000000</property>
      </defaultJobconf>
    </jobTemplate>
	
 <workflow id="beam_atcorr" title="BEAM Atmos Correction" abstract="This example runs the SmacOp atmospheric correction">						
    <workflowVersion>1.0</workflowVersion>
    <node id="node_expression">				
      <job id="expression"></job>			
      <sources>
        <source refid="cas:series">http://catalogue.terradue.int/catalogue/search/MER_RR__1P/description</source>
      </sources>
      <parameters/>					
    </node>
    <node id="node_arrange">	
      <job id="arrange"></job>	
      <sources>
        <source refid="wf:node">node_expression</source>	
      </sources>
      <parameters>
      </parameters>
    </node>
    <node id="node_binning">				
      <job id="binning"></job>			
      <sources>
        <source refid="wf:node">node_arrange</source>				
      </sources>
      <parameters>
        <parameter id="bitmask"/>		
      </parameters>
    </node>
  </workflow>
</application>
